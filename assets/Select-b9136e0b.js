import{r as e,c as n,G as t,H as o,j as l,k as r,a_ as i,a$ as a,s,b0 as d,b1 as u,I as c,aW as h,y as p,J as v,V as f,b2 as m,N as g,D as b,am as y,b3 as w,b4 as x,o as C,b5 as S,b6 as F,b7 as M,b8 as T,b9 as P,ba as R,d as z,h as k,f as O,u as I,l as B,bb as L,n as A,p as $,aq as D,bc as W,bd as E,a1 as N,B as _,A as j,aN as V,ak as H,be as q,t as K,z as U,aV as Y,O as X,x as Z,bf as J,ap as G,au as Q,bg as ee,aS as ne,ah as te,aU as oe,bh as le,w as re,bi as ie,ad as ae,F as se,ai as de,bj as ue,aj as ce,aO as he,aA as pe,aP as ve,aQ as fe,aR as me,bk as ge,v as be,bl as ye,bm as we,at as xe,bn as Ce,bo as Se,ao as Fe}from"./index-4f6885f1.js";import{_ as Me}from"./Tag-bafee43a.js";function Te(e){switch(typeof e){case"string":return e||void 0;case"number":return String(e);default:return}}function Pe(e){const n=e.filter((e=>void 0!==e));if(0!==n.length)return 1===n.length?n[0]:n=>{e.forEach((e=>{e&&e(n)}))}}function Re(e){return e&-e}class ze{constructor(e,n){this.l=e,this.min=n;const t=new Array(e+1);for(let o=0;o<e+1;++o)t[o]=0;this.ft=t}add(e,n){if(0===n)return;const{l:t,ft:o}=this;for(e+=1;e<=t;)o[e]+=n,e+=Re(e)}get(e){return this.sum(e+1)-this.sum(e)}sum(e){if(void 0===e&&(e=this.l),e<=0)return 0;const{ft:n,min:t,l:o}=this;if(e>o)throw new Error("[FinweckTree.sum]: `i` is larger than length.");let l=e*t;for(;e>0;)l+=n[e],e-=Re(e);return l}getBound(e){let n=0,t=this.l;for(;t>n;){const o=Math.floor((n+t)/2),l=this.sum(o);if(l>e)t=o;else{if(!(l<e))return o;if(n===o)return this.sum(n+1)<=e?n+1:o;n=o}}return n}}let ke,Oe;function Ie(){return"undefined"==typeof document?1:(void 0===Oe&&(Oe="chrome"in window?window.devicePixelRatio:1),Oe)}const Be="VVirtualListXScroll";const Le=l({name:"VirtualListRow",props:{index:{type:Number,required:!0},item:{type:Object,required:!0}},setup(){const{startIndexRef:e,endIndexRef:n,columnsRef:t,getLeft:o,renderColRef:l,renderItemWithColsRef:i}=r(Be);return{startIndex:e,endIndex:n,columns:t,renderCol:l,renderItemWithCols:i,getLeft:o}},render(){const{startIndex:e,endIndex:n,columns:t,renderCol:o,renderItemWithCols:l,getLeft:r,item:i}=this;if(null!=l)return l({itemIndex:this.index,startColIndex:e,endColIndex:n,allColumns:t,item:i,getLeft:r});if(null!=o){const l=[];for(let a=e;a<=n;++a){const e=t[a];l.push(o({column:e,left:r(a),item:i}))}return l}return null}}),Ae=m(".v-vl",{maxHeight:"inherit",height:"100%",overflow:"auto",minWidth:"1px"},[m("&:not(.v-vl--show-scrollbar)",{scrollbarWidth:"none"},[m("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",{width:0,height:0,display:"none"})])]),$e=l({name:"VirtualList",inheritAttrs:!1,props:{showScrollbar:{type:Boolean,default:!0},columns:{type:Array,default:()=>[]},renderCol:Function,renderItemWithCols:Function,items:{type:Array,default:()=>[]},itemSize:{type:Number,required:!0},itemResizable:Boolean,itemsStyle:[String,Object],visibleItemsTag:{type:[String,Object],default:"div"},visibleItemsProps:Object,ignoreItemResize:Boolean,onScroll:Function,onWheel:Function,onResize:Function,defaultScrollKey:[Number,String],defaultScrollIndex:Number,keyField:{type:String,default:"key"},paddingTop:{type:[Number,String],default:0},paddingBottom:{type:[Number,String],default:0}},setup(l){const r=i();Ae.mount({id:"vueuc/virtual-list",head:!0,anchorMetaName:a,ssr:r}),s((()=>{const{defaultScrollIndex:e,defaultScrollKey:n}=l;null!=e?z({index:e}):null!=n&&z({key:n})}));let p=!1,v=!1;d((()=>{p=!1,v?z({top:T.value,left:y.value}):v=!0})),u((()=>{p=!0,v||(v=!0)}));const f=t((()=>{if(null==l.renderCol&&null==l.renderItemWithCols)return;if(0===l.columns.length)return;let e=0;return l.columns.forEach((n=>{e+=n.width})),e})),m=n((()=>{const e=new Map,{keyField:n}=l;return l.items.forEach(((t,o)=>{e.set(t[n],o)})),e})),{scrollLeftRef:y,listWidthRef:w}=function({columnsRef:l,renderColRef:r,renderItemWithColsRef:i}){const a=e(0),s=e(0),d=n((()=>{const e=l.value;if(0===e.length)return null;const n=new ze(e.length,0);return e.forEach(((e,t)=>{n.add(t,e.width)})),n})),u=t((()=>{const e=d.value;return null!==e?Math.max(e.getBound(s.value)-1,0):0})),c=t((()=>{const e=d.value;return null!==e?Math.min(e.getBound(s.value+a.value)+1,l.value.length-1):0}));return o(Be,{startIndexRef:u,endIndexRef:c,columnsRef:l,renderColRef:r,renderItemWithColsRef:i,getLeft:e=>{const n=d.value;return null!==n?n.sum(e):0}}),{listWidthRef:a,scrollLeftRef:s}}({columnsRef:c(l,"columns"),renderColRef:c(l,"renderCol"),renderItemWithColsRef:c(l,"renderItemWithCols")}),x=e(null),C=e(void 0),S=new Map,F=n((()=>{const{items:e,itemSize:n,keyField:t}=l,o=new ze(e.length,n);return e.forEach(((e,n)=>{const l=e[t],r=S.get(l);void 0!==r&&o.add(n,r)})),o})),M=e(0),T=e(0),P=t((()=>Math.max(F.value.getBound(T.value-h(l.paddingTop))-1,0))),R=n((()=>{const{value:e}=C;if(void 0===e)return[];const{items:n,itemSize:t}=l,o=P.value,r=Math.min(o+Math.ceil(e/t+1),n.length-1),i=[];for(let l=o;l<=r;++l)i.push(n[l]);return i})),z=(e,n)=>{if("number"==typeof e)return void B(e,n,"auto");const{left:t,top:o,index:l,key:r,position:i,behavior:a,debounce:s=!0}=e;if(void 0!==t||void 0!==o)B(t,o,a);else if(void 0!==l)I(l,a,s);else if(void 0!==r){const e=m.value.get(r);void 0!==e&&I(e,a,s)}else"bottom"===i?B(0,Number.MAX_SAFE_INTEGER,a):"top"===i&&B(0,0,a)};let k,O=null;function I(e,n,t){const{value:o}=F,r=o.sum(e)+h(l.paddingTop);if(t){k=e,null!==O&&window.clearTimeout(O),O=window.setTimeout((()=>{k=void 0,O=null}),16);const{scrollTop:t,offsetHeight:l}=x.value;if(r>t){const i=o.get(e);r+i<=t+l||x.value.scrollTo({left:0,top:r+i-l,behavior:n})}else x.value.scrollTo({left:0,top:r,behavior:n})}else x.value.scrollTo({left:0,top:r,behavior:n})}function B(e,n,t){x.value.scrollTo({left:e,top:n,behavior:t})}const L=!("undefined"!=typeof document&&(void 0===ke&&(ke="matchMedia"in window&&window.matchMedia("(pointer:coarse)").matches),ke));let A=!1;function $(){const{value:e}=x;null!=e&&(T.value=e.scrollTop,y.value=e.scrollLeft)}function D(e){let n=e;for(;null!==n;){if("none"===n.style.display)return!0;n=n.parentElement}return!1}return{listHeight:C,listStyle:{overflow:"auto"},keyToIndex:m,itemsStyle:n((()=>{const{itemResizable:e}=l,n=b(F.value.sum());return M.value,[l.itemsStyle,{boxSizing:"content-box",width:b(f.value),height:e?"":n,minHeight:e?n:"",paddingTop:b(l.paddingTop),paddingBottom:b(l.paddingBottom)}]})),visibleItemsStyle:n((()=>(M.value,{transform:`translateY(${b(F.value.sum(P.value))})`}))),viewportItems:R,listElRef:x,itemsElRef:e(null),scrollTo:z,handleListResize:function(e){if(p)return;if(D(e.target))return;if(null==l.renderCol&&null==l.renderItemWithCols){if(e.contentRect.height===C.value)return}else if(e.contentRect.height===C.value&&e.contentRect.width===w.value)return;C.value=e.contentRect.height,w.value=e.contentRect.width;const{onResize:n}=l;void 0!==n&&n(e)},handleListScroll:function(e){var n;null===(n=l.onScroll)||void 0===n||n.call(l,e),L&&A||$()},handleListWheel:function(e){var n;if(null===(n=l.onWheel)||void 0===n||n.call(l,e),L){const n=x.value;if(null!=n){if(0===e.deltaX){if(0===n.scrollTop&&e.deltaY<=0)return;if(n.scrollTop+n.offsetHeight>=n.scrollHeight&&e.deltaY>=0)return}e.preventDefault(),n.scrollTop+=e.deltaY/Ie(),n.scrollLeft+=e.deltaX/Ie(),$(),A=!0,g((()=>{A=!1}))}}},handleItemResize:function(e,n){var t,o,r;if(p)return;if(l.ignoreItemResize)return;if(D(n.target))return;const{value:i}=F,a=m.value.get(e),s=i.get(a),d=null!==(r=null===(o=null===(t=n.borderBoxSize)||void 0===t?void 0:t[0])||void 0===o?void 0:o.blockSize)&&void 0!==r?r:n.contentRect.height;if(d===s)return;0===d-l.itemSize?S.delete(e):S.set(e,d-l.itemSize);const u=d-s;if(0===u)return;i.add(a,u);const c=x.value;if(null!=c){if(void 0===k){const e=i.sum(a);c.scrollTop>e&&c.scrollBy(0,u)}else if(a<k)c.scrollBy(0,u);else if(a===k){d+i.sum(a)>c.scrollTop+c.offsetHeight&&c.scrollBy(0,u)}$()}M.value++}}},render(){const{itemResizable:e,keyField:n,keyToIndex:t,visibleItemsTag:o}=this;return p(f,{onResize:this.handleListResize},{default:()=>{var l,r;return p("div",v(this.$attrs,{class:["v-vl",this.showScrollbar&&"v-vl--show-scrollbar"],onScroll:this.handleListScroll,onWheel:this.handleListWheel,ref:"listElRef"}),[0!==this.items.length?p("div",{ref:"itemsElRef",class:"v-vl-items",style:this.itemsStyle},[p(o,Object.assign({class:"v-vl-visible-items",style:this.visibleItemsStyle},this.visibleItemsProps),{default:()=>{const{renderCol:o,renderItemWithCols:l}=this;return this.viewportItems.map((r=>{const i=r[n],a=t.get(i),s=null!=o?p(Le,{index:a,item:r}):void 0,d=null!=l?p(Le,{index:a,item:r}):void 0,u=this.$slots.default({item:r,renderedCols:s,renderedItemWithCols:d,index:a})[0];return e?p(f,{key:i,onResize:e=>this.handleItemResize(i,e)},{default:()=>u}):(u.key=i,u)}))}})]):null===(r=(l=this.$slots).empty)||void 0===r?void 0:r.call(l)])}})}}),De="v-hidden",We=m("[v-hidden]",{display:"none!important"}),Ee=l({name:"Overflow",props:{getCounter:Function,getTail:Function,updateCounter:Function,onUpdateCount:Function,onUpdateOverflow:Function},setup(n,{slots:t}){const o=e(null),l=e(null);function r(e){const{value:r}=o,{getCounter:i,getTail:a}=n;let s;if(s=void 0!==i?i():l.value,!r||!s)return;s.hasAttribute(De)&&s.removeAttribute(De);const{children:d}=r;if(e.showAllItemsBeforeCalculate)for(const n of d)n.hasAttribute(De)&&n.removeAttribute(De);const u=r.offsetWidth,c=[],h=t.tail?null==a?void 0:a():null;let p=h?h.offsetWidth:0,v=!1;const f=r.children.length-(t.tail?1:0);for(let t=0;t<f-1;++t){if(t<0)continue;const e=d[t];if(v){e.hasAttribute(De)||e.setAttribute(De,"");continue}e.hasAttribute(De)&&e.removeAttribute(De);const o=e.offsetWidth;if(p+=o,c[t]=o,p>u){const{updateCounter:e}=n;for(let o=t;o>=0;--o){const l=f-1-o;void 0!==e?e(l):s.textContent=`${l}`;const r=s.offsetWidth;if(p-=c[o],p+r<=u||0===o){v=!0,t=o-1,h&&(-1===t?(h.style.maxWidth=u-r+"px",h.style.boxSizing="border-box"):h.style.maxWidth="");const{onUpdateCount:e}=n;e&&e(l);break}}}}const{onUpdateOverflow:m}=n;v?void 0!==m&&m(!0):(void 0!==m&&m(!1),s.setAttribute(De,""))}const d=i();return We.mount({id:"vueuc/overflow",head:!0,anchorMetaName:a,ssr:d}),s((()=>r({showAllItemsBeforeCalculate:!1}))),{selfRef:o,counterRef:l,sync:r}},render(){const{$slots:e}=this;return y((()=>this.sync({showAllItemsBeforeCalculate:!1}))),p("div",{class:"v-overflow",ref:"selfRef"},[w(e,"default"),e.counter?e.counter():p("span",{style:{display:"inline-block"},ref:"counterRef"}),e.tail?e.tail():null])}});function Ne(e,n){n&&(s((()=>{const{value:t}=e;t&&x.registerHandler(t,n)})),C((()=>{const{value:n}=e;n&&x.unregisterHandler(n)})))}const _e={name:"en-US",global:{undo:"Undo",redo:"Redo",confirm:"Confirm",clear:"Clear"},Popconfirm:{positiveText:"Confirm",negativeText:"Cancel"},Cascader:{placeholder:"Please Select",loading:"Loading",loadingRequiredMessage:e=>`Please load all ${e}'s descendants before checking it.`},Time:{dateFormat:"yyyy-MM-dd",dateTimeFormat:"yyyy-MM-dd HH:mm:ss"},DatePicker:{yearFormat:"yyyy",monthFormat:"MMM",dayFormat:"eeeeee",yearTypeFormat:"yyyy",monthTypeFormat:"yyyy-MM",dateFormat:"yyyy-MM-dd",dateTimeFormat:"yyyy-MM-dd HH:mm:ss",quarterFormat:"yyyy-qqq",weekFormat:"YYYY-w",clear:"Clear",now:"Now",confirm:"Confirm",selectTime:"Select Time",selectDate:"Select Date",datePlaceholder:"Select Date",datetimePlaceholder:"Select Date and Time",monthPlaceholder:"Select Month",yearPlaceholder:"Select Year",quarterPlaceholder:"Select Quarter",weekPlaceholder:"Select Week",startDatePlaceholder:"Start Date",endDatePlaceholder:"End Date",startDatetimePlaceholder:"Start Date and Time",endDatetimePlaceholder:"End Date and Time",startMonthPlaceholder:"Start Month",endMonthPlaceholder:"End Month",monthBeforeYear:!0,firstDayOfWeek:6,today:"Today"},DataTable:{checkTableAll:"Select all in the table",uncheckTableAll:"Unselect all in the table",confirm:"Confirm",clear:"Clear"},LegacyTransfer:{sourceTitle:"Source",targetTitle:"Target"},Transfer:{selectAll:"Select all",unselectAll:"Unselect all",clearAll:"Clear",total:e=>`Total ${e} items`,selected:e=>`${e} items selected`},Empty:{description:"No Data"},Select:{placeholder:"Please Select"},TimePicker:{placeholder:"Select Time",positiveText:"OK",negativeText:"Cancel",now:"Now",clear:"Clear"},Pagination:{goto:"Goto",selectionSuffix:"page"},DynamicTags:{add:"Add"},Log:{loading:"Loading"},Input:{placeholder:"Please Input"},InputNumber:{placeholder:"Please Input"},DynamicInput:{create:"Create"},ThemeEditor:{title:"Theme Editor",clearAllVars:"Clear All Variables",clearSearch:"Clear Search",filterCompName:"Filter Component Name",filterVarName:"Filter Variable Name",import:"Import",export:"Export",restore:"Reset to Default"},Image:{tipPrevious:"Previous picture (←)",tipNext:"Next picture (→)",tipCounterclockwise:"Counterclockwise",tipClockwise:"Clockwise",tipZoomOut:"Zoom out",tipZoomIn:"Zoom in",tipDownload:"Download",tipClose:"Close (Esc)",tipOriginalSize:"Zoom to original size"}},je={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ve={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},He={ordinalNumber:(e,n)=>{const t=Number(e),o=t%100;if(o>20||o<10)switch(o%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},era:S({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:S({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:S({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:S({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:S({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},qe={ordinalNumber:F({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:M({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:M({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:M({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:M({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:M({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},Ke={name:"en-US",locale:{code:"en-US",formatDistance:(e,n,t)=>{let o;const l=je[e];return o="string"==typeof l?l:1===n?l.one:l.other.replace("{{count}}",n.toString()),(null==t?void 0:t.addSuffix)?t.comparison&&t.comparison>0?"in "+o:o+" ago":o},formatLong:{date:T({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:T({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:T({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},formatRelative:(e,n,t,o)=>Ve[e],localize:He,match:qe,options:{weekStartsOn:0,firstWeekContainsDate:1}}};function Ue(e){const{mergedLocaleRef:t,mergedDateLocaleRef:o}=r(P,null)||{},l=n((()=>{var n,o;return null!==(o=null===(n=null==t?void 0:t.value)||void 0===n?void 0:n[e])&&void 0!==o?o:_e[e]}));return{dateLocaleRef:n((()=>{var e;return null!==(e=null==o?void 0:o.value)&&void 0!==e?e:Ke})),localeRef:l}}const Ye=l({name:"Checkmark",render:()=>p("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},p("g",{fill:"none"},p("path",{d:"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032z",fill:"currentColor"})))}),Xe=l({name:"Empty",render:()=>p("svg",{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},p("path",{d:"M26 7.5C26 11.0899 23.0899 14 19.5 14C15.9101 14 13 11.0899 13 7.5C13 3.91015 15.9101 1 19.5 1C23.0899 1 26 3.91015 26 7.5ZM16.8536 4.14645C16.6583 3.95118 16.3417 3.95118 16.1464 4.14645C15.9512 4.34171 15.9512 4.65829 16.1464 4.85355L18.7929 7.5L16.1464 10.1464C15.9512 10.3417 15.9512 10.6583 16.1464 10.8536C16.3417 11.0488 16.6583 11.0488 16.8536 10.8536L19.5 8.20711L22.1464 10.8536C22.3417 11.0488 22.6583 11.0488 22.8536 10.8536C23.0488 10.6583 23.0488 10.3417 22.8536 10.1464L20.2071 7.5L22.8536 4.85355C23.0488 4.65829 23.0488 4.34171 22.8536 4.14645C22.6583 3.95118 22.3417 3.95118 22.1464 4.14645L19.5 6.79289L16.8536 4.14645Z",fill:"currentColor"}),p("path",{d:"M25 22.75V12.5991C24.5572 13.0765 24.053 13.4961 23.5 13.8454V16H17.5L17.3982 16.0068C17.0322 16.0565 16.75 16.3703 16.75 16.75C16.75 18.2688 15.5188 19.5 14 19.5C12.4812 19.5 11.25 18.2688 11.25 16.75L11.2432 16.6482C11.1935 16.2822 10.8797 16 10.5 16H4.5V7.25C4.5 6.2835 5.2835 5.5 6.25 5.5H12.2696C12.4146 4.97463 12.6153 4.47237 12.865 4H6.25C4.45507 4 3 5.45507 3 7.25V22.75C3 24.5449 4.45507 26 6.25 26H21.75C23.5449 26 25 24.5449 25 22.75ZM4.5 22.75V17.5H9.81597L9.85751 17.7041C10.2905 19.5919 11.9808 21 14 21L14.215 20.9947C16.2095 20.8953 17.842 19.4209 18.184 17.5H23.5V22.75C23.5 23.7165 22.7165 24.5 21.75 24.5H6.25C5.2835 24.5 4.5 23.7165 4.5 22.75Z",fill:"currentColor"}))}),Ze=l({name:"ChevronDown",render:()=>p("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},p("path",{d:"M3.14645 5.64645C3.34171 5.45118 3.65829 5.45118 3.85355 5.64645L8 9.79289L12.1464 5.64645C12.3417 5.45118 12.6583 5.45118 12.8536 5.64645C13.0488 5.84171 13.0488 6.15829 12.8536 6.35355L8.35355 10.8536C8.15829 11.0488 7.84171 11.0488 7.64645 10.8536L3.14645 6.35355C2.95118 6.15829 2.95118 5.84171 3.14645 5.64645Z",fill:"currentColor"}))}),Je=R("clear",p("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},p("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},p("g",{fill:"currentColor","fill-rule":"nonzero"},p("path",{d:"M8,2 C11.3137085,2 14,4.6862915 14,8 C14,11.3137085 11.3137085,14 8,14 C4.6862915,14 2,11.3137085 2,8 C2,4.6862915 4.6862915,2 8,2 Z M6.5343055,5.83859116 C6.33943736,5.70359511 6.07001296,5.72288026 5.89644661,5.89644661 L5.89644661,5.89644661 L5.83859116,5.9656945 C5.70359511,6.16056264 5.72288026,6.42998704 5.89644661,6.60355339 L5.89644661,6.60355339 L7.293,8 L5.89644661,9.39644661 L5.83859116,9.4656945 C5.70359511,9.66056264 5.72288026,9.92998704 5.89644661,10.1035534 L5.89644661,10.1035534 L5.9656945,10.1614088 C6.16056264,10.2964049 6.42998704,10.2771197 6.60355339,10.1035534 L6.60355339,10.1035534 L8,8.707 L9.39644661,10.1035534 L9.4656945,10.1614088 C9.66056264,10.2964049 9.92998704,10.2771197 10.1035534,10.1035534 L10.1035534,10.1035534 L10.1614088,10.0343055 C10.2964049,9.83943736 10.2771197,9.57001296 10.1035534,9.39644661 L10.1035534,9.39644661 L8.707,8 L10.1035534,6.60355339 L10.1614088,6.5343055 C10.2964049,6.33943736 10.2771197,6.07001296 10.1035534,5.89644661 L10.1035534,5.89644661 L10.0343055,5.83859116 C9.83943736,5.70359511 9.57001296,5.72288026 9.39644661,5.89644661 L9.39644661,5.89644661 L8,7.293 L6.60355339,5.89644661 Z"}))))),Ge=l({props:{onFocus:Function,onBlur:Function},setup:e=>()=>p("div",{style:"width: 0; height: 0",tabindex:0,onFocus:e.onFocus,onBlur:e.onBlur})}),Qe=z("empty","\n display: flex;\n flex-direction: column;\n align-items: center;\n font-size: var(--n-font-size);\n",[k("icon","\n width: var(--n-icon-size);\n height: var(--n-icon-size);\n font-size: var(--n-icon-size);\n line-height: var(--n-icon-size);\n color: var(--n-icon-color);\n transition:\n color .3s var(--n-bezier);\n ",[O("+",[k("description","\n margin-top: 8px;\n ")])]),k("description","\n transition: color .3s var(--n-bezier);\n color: var(--n-text-color);\n "),k("extra","\n text-align: center;\n transition: color .3s var(--n-bezier);\n margin-top: 12px;\n color: var(--n-extra-text-color);\n ")]),en=l({name:"Empty",props:Object.assign(Object.assign({},B.props),{description:String,showDescription:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!0},size:{type:String,default:"medium"},renderIcon:Function}),setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:o,mergedComponentPropsRef:l}=I(e),r=B("Empty","-empty",Qe,L,e,t),{localeRef:i}=Ue("Empty"),a=n((()=>{var n,t,o;return null!==(n=e.description)&&void 0!==n?n:null===(o=null===(t=null==l?void 0:l.value)||void 0===t?void 0:t.Empty)||void 0===o?void 0:o.description})),s=n((()=>{var e,n;return(null===(n=null===(e=null==l?void 0:l.value)||void 0===e?void 0:e.Empty)||void 0===n?void 0:n.renderIcon)||(()=>p(Xe,null))})),d=n((()=>{const{size:n}=e,{common:{cubicBezierEaseInOut:t},self:{[A("iconSize",n)]:o,[A("fontSize",n)]:l,textColor:i,iconColor:a,extraTextColor:s}}=r.value;return{"--n-icon-size":o,"--n-font-size":l,"--n-bezier":t,"--n-text-color":i,"--n-icon-color":a,"--n-extra-text-color":s}})),u=o?$("empty",n((()=>{let n="";const{size:t}=e;return n+=t[0],n})),d,e):void 0;return{mergedClsPrefix:t,mergedRenderIcon:s,localizedDescription:n((()=>a.value||i.value.description)),cssVars:o?void 0:d,themeClass:null==u?void 0:u.themeClass,onRender:null==u?void 0:u.onRender}},render(){const{$slots:e,mergedClsPrefix:n,onRender:t}=this;return null==t||t(),p("div",{class:[`${n}-empty`,this.themeClass],style:this.cssVars},this.showIcon?p("div",{class:`${n}-empty__icon`},e.icon?e.icon():p(D,{clsPrefix:n},{default:this.mergedRenderIcon})):null,this.showDescription?p("div",{class:`${n}-empty__description`},e.default?e.default():this.localizedDescription):null,e.extra?p("div",{class:`${n}-empty__extra`},e.extra()):null)}});const nn=l({name:"NBaseSelectOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(e){const{valueRef:n,pendingTmNodeRef:o,multipleRef:l,valueSetRef:i,renderLabelRef:a,renderOptionRef:s,labelFieldRef:d,valueFieldRef:u,showCheckmarkRef:c,nodePropsRef:h,handleOptionClick:p,handleOptionMouseEnter:v}=r(W),f=t((()=>{const{value:n}=o;return!!n&&e.tmNode.key===n.key}));return{multiple:l,isGrouped:t((()=>{const{tmNode:n}=e,{parent:t}=n;return t&&"group"===t.rawNode.type})),showCheckmark:c,nodeProps:h,isPending:f,isSelected:t((()=>{const{value:t}=n,{value:o}=l;if(null===t)return!1;const r=e.tmNode.rawNode[u.value];if(o){const{value:e}=i;return e.has(r)}return t===r})),labelField:d,renderLabel:a,renderOption:s,handleMouseMove:function(n){const{tmNode:t}=e,{value:o}=f;t.disabled||o||v(n,t)},handleMouseEnter:function(n){const{tmNode:t}=e;t.disabled||v(n,t)},handleClick:function(n){const{tmNode:t}=e;t.disabled||p(n,t)}}},render(){const{clsPrefix:e,tmNode:{rawNode:n},isSelected:t,isPending:o,isGrouped:l,showCheckmark:r,nodeProps:i,renderOption:a,renderLabel:s,handleClick:d,handleMouseEnter:u,handleMouseMove:c}=this,h=function(e,n){return p(N,{name:"fade-in-scale-up-transition"},{default:()=>e?p(D,{clsPrefix:n,class:`${n}-base-select-option__check`},{default:()=>p(Ye)}):null})}(t,e),v=s?[s(n,t),r&&h]:[E(n[this.labelField],n,t),r&&h],f=null==i?void 0:i(n),m=p("div",Object.assign({},f,{class:[`${e}-base-select-option`,n.class,null==f?void 0:f.class,{[`${e}-base-select-option--disabled`]:n.disabled,[`${e}-base-select-option--selected`]:t,[`${e}-base-select-option--grouped`]:l,[`${e}-base-select-option--pending`]:o,[`${e}-base-select-option--show-checkmark`]:r}],style:[(null==f?void 0:f.style)||"",n.style||""],onClick:Pe([d,null==f?void 0:f.onClick]),onMouseenter:Pe([u,null==f?void 0:f.onMouseenter]),onMousemove:Pe([c,null==f?void 0:f.onMousemove])}),p("div",{class:`${e}-base-select-option__content`},v));return n.render?n.render({node:m,option:n,selected:t}):a?a({node:m,option:n,selected:t}):m}}),tn=l({name:"NBaseSelectGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{renderLabelRef:e,renderOptionRef:n,labelFieldRef:t,nodePropsRef:o}=r(W);return{labelField:t,nodeProps:o,renderLabel:e,renderOption:n}},render(){const{clsPrefix:e,renderLabel:n,renderOption:t,nodeProps:o,tmNode:{rawNode:l}}=this,r=null==o?void 0:o(l),i=n?n(l,!1):E(l[this.labelField],l,!1),a=p("div",Object.assign({},r,{class:[`${e}-base-select-group-header`,null==r?void 0:r.class]}),i);return l.render?l.render({node:a,option:l}):t?t({node:a,option:l,selected:!1}):a}}),on=z("base-select-menu","\n line-height: 1.5;\n outline: none;\n z-index: 0;\n position: relative;\n border-radius: var(--n-border-radius);\n transition:\n background-color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n background-color: var(--n-color);\n",[z("scrollbar","\n max-height: var(--n-height);\n "),z("virtual-list","\n max-height: var(--n-height);\n "),z("base-select-option","\n min-height: var(--n-option-height);\n font-size: var(--n-option-font-size);\n display: flex;\n align-items: center;\n ",[k("content","\n z-index: 1;\n white-space: nowrap;\n text-overflow: ellipsis;\n overflow: hidden;\n ")]),z("base-select-group-header","\n min-height: var(--n-option-height);\n font-size: .93em;\n display: flex;\n align-items: center;\n "),z("base-select-menu-option-wrapper","\n position: relative;\n width: 100%;\n "),k("loading, empty","\n display: flex;\n padding: 12px 32px;\n flex: 1;\n justify-content: center;\n "),k("loading","\n color: var(--n-loading-color);\n font-size: var(--n-loading-size);\n "),k("header","\n padding: 8px var(--n-option-padding-left);\n font-size: var(--n-option-font-size);\n transition: \n color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n border-bottom: 1px solid var(--n-action-divider-color);\n color: var(--n-action-text-color);\n "),k("action","\n padding: 8px var(--n-option-padding-left);\n font-size: var(--n-option-font-size);\n transition: \n color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n border-top: 1px solid var(--n-action-divider-color);\n color: var(--n-action-text-color);\n "),z("base-select-group-header","\n position: relative;\n cursor: default;\n padding: var(--n-option-padding);\n color: var(--n-group-header-text-color);\n "),z("base-select-option","\n cursor: pointer;\n position: relative;\n padding: var(--n-option-padding);\n transition:\n color .3s var(--n-bezier),\n opacity .3s var(--n-bezier);\n box-sizing: border-box;\n color: var(--n-option-text-color);\n opacity: 1;\n ",[_("show-checkmark","\n padding-right: calc(var(--n-option-padding-right) + 20px);\n "),O("&::before",'\n content: "";\n position: absolute;\n left: 4px;\n right: 4px;\n top: 0;\n bottom: 0;\n border-radius: var(--n-border-radius);\n transition: background-color .3s var(--n-bezier);\n '),O("&:active","\n color: var(--n-option-text-color-pressed);\n "),_("grouped","\n padding-left: calc(var(--n-option-padding-left) * 1.5);\n "),_("pending",[O("&::before","\n background-color: var(--n-option-color-pending);\n ")]),_("selected","\n color: var(--n-option-text-color-active);\n ",[O("&::before","\n background-color: var(--n-option-color-active);\n "),_("pending",[O("&::before","\n background-color: var(--n-option-color-active-pending);\n ")])]),_("disabled","\n cursor: not-allowed;\n ",[j("selected","\n color: var(--n-option-text-color-disabled);\n "),_("selected","\n opacity: var(--n-option-opacity-disabled);\n ")]),k("check","\n font-size: 16px;\n position: absolute;\n right: calc(var(--n-option-padding-right) - 4px);\n top: calc(50% - 7px);\n color: var(--n-option-check-color);\n transition: color .3s var(--n-bezier);\n ",[V({enterScale:"0.5"})])])]),ln=l({name:"InternalSelectMenu",props:Object.assign(Object.assign({},B.props),{clsPrefix:{type:String,required:!0},scrollable:{type:Boolean,default:!0},treeMate:{type:Object,required:!0},multiple:Boolean,size:{type:String,default:"medium"},value:{type:[String,Number,Array],default:null},autoPending:Boolean,virtualScroll:{type:Boolean,default:!0},show:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},loading:Boolean,focusable:Boolean,renderLabel:Function,renderOption:Function,nodeProps:Function,showCheckmark:{type:Boolean,default:!0},onMousedown:Function,onScroll:Function,onFocus:Function,onBlur:Function,onKeyup:Function,onKeydown:Function,onTabOut:Function,onMouseenter:Function,onMouseleave:Function,onResize:Function,resetMenuOnOptionsChange:{type:Boolean,default:!0},inlineThemeDisabled:Boolean,onToggle:Function}),setup(t){const{mergedClsPrefixRef:l,mergedRtlRef:r}=I(t),i=H("InternalSelectMenu",r,l),a=B("InternalSelectMenu","-internal-select-menu",on,q,t,c(t,"clsPrefix")),d=e(null),u=e(null),p=e(null),v=n((()=>t.treeMate.getFlattenedNodes())),f=n((()=>J(v.value))),m=e(null);function g(){const{value:e}=m;e&&!t.treeMate.getNode(e.key)&&(m.value=null)}let b;K((()=>t.show),(e=>{e?b=K((()=>t.treeMate),(()=>{t.resetMenuOnOptionsChange?(t.autoPending?function(){const{treeMate:e}=t;let n=null;const{value:o}=t;null===o?n=e.getFirstAvailableNode():(n=t.multiple?e.getNode((o||[])[(o||[]).length-1]):e.getNode(o),n&&!n.disabled||(n=e.getFirstAvailableNode())),T(n||null)}():g(),y(P)):g()}),{immediate:!0}):null==b||b()}),{immediate:!0}),C((()=>{null==b||b()}));const w=n((()=>h(a.value.self[A("optionHeight",t.size)]))),x=n((()=>G(a.value.self[A("padding",t.size)]))),S=n((()=>t.multiple&&Array.isArray(t.value)?new Set(t.value):new Set)),F=n((()=>{const e=v.value;return e&&0===e.length}));function M(e){const{onScroll:n}=t;n&&n(e)}function T(e,n=!1){m.value=e,n&&P()}function P(){var e,n;const o=m.value;if(!o)return;const l=f.value(o.key);null!==l&&(t.virtualScroll?null===(e=u.value)||void 0===e||e.scrollTo({index:l}):null===(n=p.value)||void 0===n||n.scrollTo({index:l,elSize:w.value}))}o(W,{handleOptionMouseEnter:function(e,n){n.disabled||T(n,!1)},handleOptionClick:function(e,n){n.disabled||function(e){const{onToggle:n}=t;n&&n(e)}(n)},valueSetRef:S,pendingTmNodeRef:m,nodePropsRef:c(t,"nodeProps"),showCheckmarkRef:c(t,"showCheckmark"),multipleRef:c(t,"multiple"),valueRef:c(t,"value"),renderLabelRef:c(t,"renderLabel"),renderOptionRef:c(t,"renderOption"),labelFieldRef:c(t,"labelField"),valueFieldRef:c(t,"valueField")}),o(ee,d),s((()=>{const{value:e}=p;e&&e.sync()}));const R=n((()=>{const{size:e}=t,{common:{cubicBezierEaseInOut:n},self:{height:o,borderRadius:l,color:r,groupHeaderTextColor:i,actionDividerColor:s,optionTextColorPressed:d,optionTextColor:u,optionTextColorDisabled:c,optionTextColorActive:h,optionOpacityDisabled:p,optionCheckColor:v,actionTextColor:f,optionColorPending:m,optionColorActive:g,loadingColor:b,loadingSize:y,optionColorActivePending:w,[A("optionFontSize",e)]:x,[A("optionHeight",e)]:C,[A("optionPadding",e)]:S}}=a.value;return{"--n-height":o,"--n-action-divider-color":s,"--n-action-text-color":f,"--n-bezier":n,"--n-border-radius":l,"--n-color":r,"--n-option-font-size":x,"--n-group-header-text-color":i,"--n-option-check-color":v,"--n-option-color-pending":m,"--n-option-color-active":g,"--n-option-color-active-pending":w,"--n-option-height":C,"--n-option-opacity-disabled":p,"--n-option-text-color":u,"--n-option-text-color-active":h,"--n-option-text-color-disabled":c,"--n-option-text-color-pressed":d,"--n-option-padding":S,"--n-option-padding-left":G(S,"left"),"--n-option-padding-right":G(S,"right"),"--n-loading-color":b,"--n-loading-size":y}})),{inlineThemeDisabled:z}=t,k=z?$("internal-select-menu",n((()=>t.size[0])),R,t):void 0,O={selfRef:d,next:function(){const{value:e}=m;e&&T(e.getNext({loop:!0}),!0)},prev:function(){const{value:e}=m;e&&T(e.getPrev({loop:!0}),!0)},getPendingTmNode:function(){const{value:e}=m;return e||null}};return Ne(d,t.onResize),Object.assign({mergedTheme:a,mergedClsPrefix:l,rtlEnabled:i,virtualListRef:u,scrollbarRef:p,itemSize:w,padding:x,flattenedNodes:v,empty:F,virtualListContainer(){const{value:e}=u;return null==e?void 0:e.listElRef},virtualListContent(){const{value:e}=u;return null==e?void 0:e.itemsElRef},doScroll:M,handleFocusin:function(e){var n,o;(null===(n=d.value)||void 0===n?void 0:n.contains(e.target))&&(null===(o=t.onFocus)||void 0===o||o.call(t,e))},handleFocusout:function(e){var n,o;(null===(n=d.value)||void 0===n?void 0:n.contains(e.relatedTarget))||null===(o=t.onBlur)||void 0===o||o.call(t,e)},handleKeyUp:function(e){var n;Q(e,"action")||null===(n=t.onKeyup)||void 0===n||n.call(t,e)},handleKeyDown:function(e){var n;Q(e,"action")||null===(n=t.onKeydown)||void 0===n||n.call(t,e)},handleMouseDown:function(e){var n;null===(n=t.onMousedown)||void 0===n||n.call(t,e),t.focusable||e.preventDefault()},handleVirtualListResize:function(){var e;null===(e=p.value)||void 0===e||e.sync()},handleVirtualListScroll:function(e){var n;null===(n=p.value)||void 0===n||n.sync(),M(e)},cssVars:z?void 0:R,themeClass:null==k?void 0:k.themeClass,onRender:null==k?void 0:k.onRender},O)},render(){const{$slots:e,virtualScroll:n,clsPrefix:t,mergedTheme:o,themeClass:l,onRender:r}=this;return null==r||r(),p("div",{ref:"selfRef",tabindex:this.focusable?0:-1,class:[`${t}-base-select-menu`,this.rtlEnabled&&`${t}-base-select-menu--rtl`,l,this.multiple&&`${t}-base-select-menu--multiple`],style:this.cssVars,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onKeyup:this.handleKeyUp,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},U(e.header,(e=>e&&p("div",{class:`${t}-base-select-menu__header`,"data-header":!0,key:"header"},e))),this.loading?p("div",{class:`${t}-base-select-menu__loading`},p(Y,{clsPrefix:t,strokeWidth:20})):this.empty?p("div",{class:`${t}-base-select-menu__empty`,"data-empty":!0},Z(e.empty,(()=>[p(en,{theme:o.peers.Empty,themeOverrides:o.peerOverrides.Empty,size:this.size})]))):p(X,{ref:"scrollbarRef",theme:o.peers.Scrollbar,themeOverrides:o.peerOverrides.Scrollbar,scrollable:this.scrollable,container:n?this.virtualListContainer:void 0,content:n?this.virtualListContent:void 0,onScroll:n?void 0:this.doScroll},{default:()=>n?p($e,{ref:"virtualListRef",class:`${t}-virtual-list`,items:this.flattenedNodes,itemSize:this.itemSize,showScrollbar:!1,paddingTop:this.padding.top,paddingBottom:this.padding.bottom,onResize:this.handleVirtualListResize,onScroll:this.handleVirtualListScroll,itemResizable:!0},{default:({item:e})=>e.isGroup?p(tn,{key:e.key,clsPrefix:t,tmNode:e}):e.ignored?null:p(nn,{clsPrefix:t,key:e.key,tmNode:e})}):p("div",{class:`${t}-base-select-menu-option-wrapper`,style:{paddingTop:this.padding.top,paddingBottom:this.padding.bottom}},this.flattenedNodes.map((e=>e.isGroup?p(tn,{key:e.key,clsPrefix:t,tmNode:e}):p(nn,{clsPrefix:t,key:e.key,tmNode:e}))))}),U(e.action,(e=>e&&[p("div",{class:`${t}-base-select-menu__action`,"data-action":!0,key:"action"},e),p(Ge,{onFocus:this.onTabOut,key:"focus-detector"})])))}}),rn=z("base-clear","\n flex-shrink: 0;\n height: 1em;\n width: 1em;\n position: relative;\n",[O(">",[k("clear","\n font-size: var(--n-clear-size);\n height: 1em;\n width: 1em;\n cursor: pointer;\n color: var(--n-clear-color);\n transition: color .3s var(--n-bezier);\n display: flex;\n ",[O("&:hover","\n color: var(--n-clear-color-hover)!important;\n "),O("&:active","\n color: var(--n-clear-color-pressed)!important;\n ")]),k("placeholder","\n display: flex;\n "),k("clear, placeholder","\n position: absolute;\n left: 50%;\n top: 50%;\n transform: translateX(-50%) translateY(-50%);\n ",[ne({originalTransform:"translateX(-50%) translateY(-50%)",left:"50%",top:"50%"})])])]),an=l({name:"BaseClear",props:{clsPrefix:{type:String,required:!0},show:Boolean,onClear:Function},setup:e=>(te("-base-clear",rn,c(e,"clsPrefix")),{handleMouseDown(e){e.preventDefault()}}),render(){const{clsPrefix:e}=this;return p("div",{class:`${e}-base-clear`},p(oe,null,{default:()=>{var n,t;return this.show?p("div",{key:"dismiss",class:`${e}-base-clear__clear`,onClick:this.onClear,onMousedown:this.handleMouseDown,"data-clear":!0},Z(this.$slots.icon,(()=>[p(D,{clsPrefix:e},{default:()=>p(Je,null)})]))):p("div",{key:"icon",class:`${e}-base-clear__placeholder`},null===(t=(n=this.$slots).placeholder)||void 0===t?void 0:t.call(n))}}))}}),sn=l({name:"InternalSelectionSuffix",props:{clsPrefix:{type:String,required:!0},showArrow:{type:Boolean,default:void 0},showClear:{type:Boolean,default:void 0},loading:{type:Boolean,default:!1},onClear:Function},setup:(e,{slots:n})=>()=>{const{clsPrefix:t}=e;return p(Y,{clsPrefix:t,class:`${t}-base-suffix`,strokeWidth:24,scale:.85,show:e.loading},{default:()=>e.showArrow?p(an,{clsPrefix:t,show:e.showClear,onClear:e.onClear},{placeholder:()=>p(D,{clsPrefix:t,class:`${t}-base-suffix__arrow`},{default:()=>Z(n.default,(()=>[p(Ze,null)]))})}):null})}}),dn=O([z("base-selection","\n --n-padding-single: var(--n-padding-single-top) var(--n-padding-single-right) var(--n-padding-single-bottom) var(--n-padding-single-left);\n --n-padding-multiple: var(--n-padding-multiple-top) var(--n-padding-multiple-right) var(--n-padding-multiple-bottom) var(--n-padding-multiple-left);\n position: relative;\n z-index: auto;\n box-shadow: none;\n width: 100%;\n max-width: 100%;\n display: inline-block;\n vertical-align: bottom;\n border-radius: var(--n-border-radius);\n min-height: var(--n-height);\n line-height: 1.5;\n font-size: var(--n-font-size);\n ",[z("base-loading","\n color: var(--n-loading-color);\n "),z("base-selection-tags","min-height: var(--n-height);"),k("border, state-border","\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n pointer-events: none;\n border: var(--n-border);\n border-radius: inherit;\n transition:\n box-shadow .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n "),k("state-border","\n z-index: 1;\n border-color: #0000;\n "),z("base-suffix","\n cursor: pointer;\n position: absolute;\n top: 50%;\n transform: translateY(-50%);\n right: 10px;\n ",[k("arrow","\n font-size: var(--n-arrow-size);\n color: var(--n-arrow-color);\n transition: color .3s var(--n-bezier);\n ")]),z("base-selection-overlay","\n display: flex;\n align-items: center;\n white-space: nowrap;\n pointer-events: none;\n position: absolute;\n top: 0;\n right: 0;\n bottom: 0;\n left: 0;\n padding: var(--n-padding-single);\n transition: color .3s var(--n-bezier);\n ",[k("wrapper","\n flex-basis: 0;\n flex-grow: 1;\n overflow: hidden;\n text-overflow: ellipsis;\n ")]),z("base-selection-placeholder","\n color: var(--n-placeholder-color);\n ",[k("inner","\n max-width: 100%;\n overflow: hidden;\n ")]),z("base-selection-tags","\n cursor: pointer;\n outline: none;\n box-sizing: border-box;\n position: relative;\n z-index: auto;\n display: flex;\n padding: var(--n-padding-multiple);\n flex-wrap: wrap;\n align-items: center;\n width: 100%;\n vertical-align: bottom;\n background-color: var(--n-color);\n border-radius: inherit;\n transition:\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n "),z("base-selection-label","\n height: var(--n-height);\n display: inline-flex;\n width: 100%;\n vertical-align: bottom;\n cursor: pointer;\n outline: none;\n z-index: auto;\n box-sizing: border-box;\n position: relative;\n transition:\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n border-radius: inherit;\n background-color: var(--n-color);\n align-items: center;\n ",[z("base-selection-input","\n font-size: inherit;\n line-height: inherit;\n outline: none;\n cursor: pointer;\n box-sizing: border-box;\n border:none;\n width: 100%;\n padding: var(--n-padding-single);\n background-color: #0000;\n color: var(--n-text-color);\n transition: color .3s var(--n-bezier);\n caret-color: var(--n-caret-color);\n ",[k("content","\n text-overflow: ellipsis;\n overflow: hidden;\n white-space: nowrap; \n ")]),k("render-label","\n color: var(--n-text-color);\n ")]),j("disabled",[O("&:hover",[k("state-border","\n box-shadow: var(--n-box-shadow-hover);\n border: var(--n-border-hover);\n ")]),_("focus",[k("state-border","\n box-shadow: var(--n-box-shadow-focus);\n border: var(--n-border-focus);\n ")]),_("active",[k("state-border","\n box-shadow: var(--n-box-shadow-active);\n border: var(--n-border-active);\n "),z("base-selection-label","background-color: var(--n-color-active);"),z("base-selection-tags","background-color: var(--n-color-active);")])]),_("disabled","cursor: not-allowed;",[k("arrow","\n color: var(--n-arrow-color-disabled);\n "),z("base-selection-label","\n cursor: not-allowed;\n background-color: var(--n-color-disabled);\n ",[z("base-selection-input","\n cursor: not-allowed;\n color: var(--n-text-color-disabled);\n "),k("render-label","\n color: var(--n-text-color-disabled);\n ")]),z("base-selection-tags","\n cursor: not-allowed;\n background-color: var(--n-color-disabled);\n "),z("base-selection-placeholder","\n cursor: not-allowed;\n color: var(--n-placeholder-color-disabled);\n ")]),z("base-selection-input-tag","\n height: calc(var(--n-height) - 6px);\n line-height: calc(var(--n-height) - 6px);\n outline: none;\n display: none;\n position: relative;\n margin-bottom: 3px;\n max-width: 100%;\n vertical-align: bottom;\n ",[k("input","\n font-size: inherit;\n font-family: inherit;\n min-width: 1px;\n padding: 0;\n background-color: #0000;\n outline: none;\n border: none;\n max-width: 100%;\n overflow: hidden;\n width: 1em;\n line-height: inherit;\n cursor: pointer;\n color: var(--n-text-color);\n caret-color: var(--n-caret-color);\n "),k("mirror","\n position: absolute;\n left: 0;\n top: 0;\n white-space: pre;\n visibility: hidden;\n user-select: none;\n -webkit-user-select: none;\n opacity: 0;\n ")]),["warning","error"].map((e=>_(`${e}-status`,[k("state-border",`border: var(--n-border-${e});`),j("disabled",[O("&:hover",[k("state-border",`\n box-shadow: var(--n-box-shadow-hover-${e});\n border: var(--n-border-hover-${e});\n `)]),_("active",[k("state-border",`\n box-shadow: var(--n-box-shadow-active-${e});\n border: var(--n-border-active-${e});\n `),z("base-selection-label",`background-color: var(--n-color-active-${e});`),z("base-selection-tags",`background-color: var(--n-color-active-${e});`)]),_("focus",[k("state-border",`\n box-shadow: var(--n-box-shadow-focus-${e});\n border: var(--n-border-focus-${e});\n `)])])])))]),z("base-selection-popover","\n margin-bottom: -3px;\n display: flex;\n flex-wrap: wrap;\n margin-right: -8px;\n "),z("base-selection-tag-wrapper","\n max-width: 100%;\n display: inline-flex;\n padding: 0 7px 3px 0;\n ",[O("&:last-child","padding-right: 0;"),z("tag","\n font-size: 14px;\n max-width: 100%;\n ",[k("content","\n line-height: 1.25;\n text-overflow: ellipsis;\n overflow: hidden;\n ")])])]),un=l({name:"InternalSelection",props:Object.assign(Object.assign({},B.props),{clsPrefix:{type:String,required:!0},bordered:{type:Boolean,default:void 0},active:Boolean,pattern:{type:String,default:""},placeholder:String,selectedOption:{type:Object,default:null},selectedOptions:{type:Array,default:null},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},multiple:Boolean,filterable:Boolean,clearable:Boolean,disabled:Boolean,size:{type:String,default:"medium"},loading:Boolean,autofocus:Boolean,showArrow:{type:Boolean,default:!0},inputProps:Object,focused:Boolean,renderTag:Function,onKeydown:Function,onClick:Function,onBlur:Function,onFocus:Function,onDeleteOption:Function,maxTagCount:[String,Number],ellipsisTagPopoverProps:Object,onClear:Function,onPatternInput:Function,onPatternFocus:Function,onPatternBlur:Function,renderLabel:Function,status:String,inlineThemeDisabled:Boolean,ignoreComposition:{type:Boolean,default:!0},onResize:Function}),setup(t){const{mergedClsPrefixRef:o,mergedRtlRef:l}=I(t),r=H("InternalSelection",l,o),i=e(null),a=e(null),d=e(null),u=e(null),h=e(null),p=e(null),v=e(null),f=e(null),m=e(null),g=e(null),b=e(!1),w=e(!1),x=e(!1),C=B("InternalSelection","-internal-selection",dn,le,t,c(t,"clsPrefix")),S=n((()=>t.clearable&&!t.disabled&&(x.value||t.active))),F=n((()=>t.selectedOption?t.renderTag?t.renderTag({option:t.selectedOption,handleClose:()=>{}}):t.renderLabel?t.renderLabel(t.selectedOption,!0):E(t.selectedOption[t.labelField],t.selectedOption,!0):t.placeholder)),M=n((()=>{const e=t.selectedOption;if(e)return e[t.labelField]})),T=n((()=>t.multiple?!(!Array.isArray(t.selectedOptions)||!t.selectedOptions.length):null!==t.selectedOption));function P(){var e;const{value:n}=i;if(n){const{value:o}=a;o&&(o.style.width=`${n.offsetWidth}px`,"responsive"!==t.maxTagCount&&(null===(e=m.value)||void 0===e||e.sync({showAllItemsBeforeCalculate:!1})))}}function R(e){const{onPatternInput:n}=t;n&&n(e)}function z(e){!function(e){const{onDeleteOption:n}=t;n&&n(e)}(e)}K(c(t,"active"),(e=>{e||function(){const{value:e}=g;e&&(e.style.display="none")}()})),K(c(t,"pattern"),(()=>{t.multiple&&y(P)}));const k=e(!1);let O=null;let L=null;function D(){null!==L&&window.clearTimeout(L)}K(T,(e=>{e||(b.value=!1)})),s((()=>{re((()=>{const e=p.value;e&&(t.disabled?e.removeAttribute("tabindex"):e.tabIndex=w.value?-1:0)}))})),Ne(d,t.onResize);const{inlineThemeDisabled:W}=t,N=n((()=>{const{size:e}=t,{common:{cubicBezierEaseInOut:n},self:{borderRadius:o,color:l,placeholderColor:r,textColor:i,paddingSingle:a,paddingMultiple:s,caretColor:d,colorDisabled:u,textColorDisabled:c,placeholderColorDisabled:h,colorActive:p,boxShadowFocus:v,boxShadowActive:f,boxShadowHover:m,border:g,borderFocus:b,borderHover:y,borderActive:w,arrowColor:x,arrowColorDisabled:S,loadingColor:F,colorActiveWarning:M,boxShadowFocusWarning:T,boxShadowActiveWarning:P,boxShadowHoverWarning:R,borderWarning:z,borderFocusWarning:k,borderHoverWarning:O,borderActiveWarning:I,colorActiveError:B,boxShadowFocusError:L,boxShadowActiveError:$,boxShadowHoverError:D,borderError:W,borderFocusError:E,borderHoverError:N,borderActiveError:_,clearColor:j,clearColorHover:V,clearColorPressed:H,clearSize:q,arrowSize:K,[A("height",e)]:U,[A("fontSize",e)]:Y}}=C.value,X=G(a),Z=G(s);return{"--n-bezier":n,"--n-border":g,"--n-border-active":w,"--n-border-focus":b,"--n-border-hover":y,"--n-border-radius":o,"--n-box-shadow-active":f,"--n-box-shadow-focus":v,"--n-box-shadow-hover":m,"--n-caret-color":d,"--n-color":l,"--n-color-active":p,"--n-color-disabled":u,"--n-font-size":Y,"--n-height":U,"--n-padding-single-top":X.top,"--n-padding-multiple-top":Z.top,"--n-padding-single-right":X.right,"--n-padding-multiple-right":Z.right,"--n-padding-single-left":X.left,"--n-padding-multiple-left":Z.left,"--n-padding-single-bottom":X.bottom,"--n-padding-multiple-bottom":Z.bottom,"--n-placeholder-color":r,"--n-placeholder-color-disabled":h,"--n-text-color":i,"--n-text-color-disabled":c,"--n-arrow-color":x,"--n-arrow-color-disabled":S,"--n-loading-color":F,"--n-color-active-warning":M,"--n-box-shadow-focus-warning":T,"--n-box-shadow-active-warning":P,"--n-box-shadow-hover-warning":R,"--n-border-warning":z,"--n-border-focus-warning":k,"--n-border-hover-warning":O,"--n-border-active-warning":I,"--n-color-active-error":B,"--n-box-shadow-focus-error":L,"--n-box-shadow-active-error":$,"--n-box-shadow-hover-error":D,"--n-border-error":W,"--n-border-focus-error":E,"--n-border-hover-error":N,"--n-border-active-error":_,"--n-clear-size":q,"--n-clear-color":j,"--n-clear-color-hover":V,"--n-clear-color-pressed":H,"--n-arrow-size":K}})),_=W?$("internal-selection",n((()=>t.size[0])),N,t):void 0;return{mergedTheme:C,mergedClearable:S,mergedClsPrefix:o,rtlEnabled:r,patternInputFocused:w,filterablePlaceholder:F,label:M,selected:T,showTagsPanel:b,isComposing:k,counterRef:v,counterWrapperRef:f,patternInputMirrorRef:i,patternInputRef:a,selfRef:d,multipleElRef:u,singleElRef:h,patternInputWrapperRef:p,overflowRef:m,inputTagElRef:g,handleMouseDown:function(e){t.active&&t.filterable&&e.target!==a.value&&e.preventDefault()},handleFocusin:function(e){var n;e.relatedTarget&&(null===(n=d.value)||void 0===n?void 0:n.contains(e.relatedTarget))||function(e){const{onFocus:n}=t;n&&n(e)}(e)},handleClear:function(e){!function(e){const{onClear:n}=t;n&&n(e)}(e)},handleMouseEnter:function(){x.value=!0},handleMouseLeave:function(){x.value=!1},handleDeleteOption:z,handlePatternKeyDown:function(e){if("Backspace"===e.key&&!k.value&&!t.pattern.length){const{selectedOptions:e}=t;(null==e?void 0:e.length)&&z(e[e.length-1])}},handlePatternInputInput:function(e){const{value:n}=i;if(n){const t=e.target.value;n.textContent=t,P()}t.ignoreComposition&&k.value?O=e:R(e)},handlePatternInputBlur:function(e){var n;w.value=!1,null===(n=t.onPatternBlur)||void 0===n||n.call(t,e)},handlePatternInputFocus:function(e){var n;w.value=!0,null===(n=t.onPatternFocus)||void 0===n||n.call(t,e)},handleMouseEnterCounter:function(){t.active||(D(),L=window.setTimeout((()=>{T.value&&(b.value=!0)}),100))},handleMouseLeaveCounter:function(){D()},handleFocusout:function(e){var n;(null===(n=d.value)||void 0===n?void 0:n.contains(e.relatedTarget))||function(e){const{onBlur:n}=t;n&&n(e)}(e)},handleCompositionEnd:function(){k.value=!1,t.ignoreComposition&&R(O),O=null},handleCompositionStart:function(){k.value=!0},onPopoverUpdateShow:function(e){e||(D(),b.value=!1)},focus:function(){var e,n,o;t.filterable?(w.value=!1,null===(e=p.value)||void 0===e||e.focus()):t.multiple?null===(n=u.value)||void 0===n||n.focus():null===(o=h.value)||void 0===o||o.focus()},focusInput:function(){const{value:e}=a;e&&(!function(){const{value:e}=g;e&&(e.style.display="inline-block")}(),e.focus())},blur:function(){var e,n;if(t.filterable)w.value=!1,null===(e=p.value)||void 0===e||e.blur(),null===(n=a.value)||void 0===n||n.blur();else if(t.multiple){const{value:e}=u;null==e||e.blur()}else{const{value:e}=h;null==e||e.blur()}},blurInput:function(){const{value:e}=a;e&&e.blur()},updateCounter:function(e){const{value:n}=v;n&&n.setTextContent(`+${e}`)},getCounter:function(){const{value:e}=f;return e},getTail:function(){return a.value},renderLabel:t.renderLabel,cssVars:W?void 0:N,themeClass:null==_?void 0:_.themeClass,onRender:null==_?void 0:_.onRender}},render(){const{status:e,multiple:n,size:t,disabled:o,filterable:l,maxTagCount:r,bordered:i,clsPrefix:a,ellipsisTagPopoverProps:s,onRender:d,renderTag:u,renderLabel:c}=this;null==d||d();const h="responsive"===r,v="number"==typeof r,f=h||v,m=p(ie,null,{default:()=>p(sn,{clsPrefix:a,loading:this.loading,showArrow:this.showArrow,showClear:this.mergedClearable&&this.selected,onClear:this.handleClear},{default:()=>{var e,n;return null===(n=(e=this.$slots).arrow)||void 0===n?void 0:n.call(e)}})});let g;if(n){const{labelField:e}=this,n=n=>p("div",{class:`${a}-base-selection-tag-wrapper`,key:n.value},u?u({option:n,handleClose:()=>{this.handleDeleteOption(n)}}):p(Me,{size:t,closable:!n.disabled,disabled:o,onClose:()=>{this.handleDeleteOption(n)},internalCloseIsButtonTag:!1,internalCloseFocusable:!1},{default:()=>c?c(n,!0):E(n[e],n,!0)})),i=()=>(v?this.selectedOptions.slice(0,r):this.selectedOptions).map(n),d=l?p("div",{class:`${a}-base-selection-input-tag`,ref:"inputTagElRef",key:"__input-tag__"},p("input",Object.assign({},this.inputProps,{ref:"patternInputRef",tabindex:-1,disabled:o,value:this.pattern,autofocus:this.autofocus,class:`${a}-base-selection-input-tag__input`,onBlur:this.handlePatternInputBlur,onFocus:this.handlePatternInputFocus,onKeydown:this.handlePatternKeyDown,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),p("span",{ref:"patternInputMirrorRef",class:`${a}-base-selection-input-tag__mirror`},this.pattern)):null,b=h?()=>p("div",{class:`${a}-base-selection-tag-wrapper`,ref:"counterWrapperRef"},p(Me,{size:t,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,onMouseleave:this.handleMouseLeaveCounter,disabled:o})):void 0;let y;if(v){const e=this.selectedOptions.length-r;e>0&&(y=p("div",{class:`${a}-base-selection-tag-wrapper`,key:"__counter__"},p(Me,{size:t,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,disabled:o},{default:()=>`+${e}`})))}const w=h?l?p(Ee,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,getTail:this.getTail,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:i,counter:b,tail:()=>d}):p(Ee,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:i,counter:b}):v&&y?i().concat(y):i(),x=f?()=>p("div",{class:`${a}-base-selection-popover`},h?i():this.selectedOptions.map(n)):void 0,C=f?Object.assign({show:this.showTagsPanel,trigger:"hover",overlap:!0,placement:"top",width:"trigger",onUpdateShow:this.onPopoverUpdateShow,theme:this.mergedTheme.peers.Popover,themeOverrides:this.mergedTheme.peerOverrides.Popover},s):null,S=!this.selected&&(!this.active||!this.pattern&&!this.isComposing)?p("div",{class:`${a}-base-selection-placeholder ${a}-base-selection-overlay`},p("div",{class:`${a}-base-selection-placeholder__inner`},this.placeholder)):null,F=l?p("div",{ref:"patternInputWrapperRef",class:`${a}-base-selection-tags`},w,h?null:d,m):p("div",{ref:"multipleElRef",class:`${a}-base-selection-tags`,tabindex:o?void 0:0},w,m);g=p(se,null,f?p(ae,Object.assign({},C,{scrollable:!0,style:"max-height: calc(var(--v-target-height) * 6.6);"}),{trigger:()=>F,default:x}):F,S)}else if(l){const e=this.pattern||this.isComposing,n=this.active?!e:!this.selected,t=!this.active&&this.selected;g=p("div",{ref:"patternInputWrapperRef",class:`${a}-base-selection-label`,title:this.patternInputFocused?void 0:Te(this.label)},p("input",Object.assign({},this.inputProps,{ref:"patternInputRef",class:`${a}-base-selection-input`,value:this.active?this.pattern:"",placeholder:"",readonly:o,disabled:o,tabindex:-1,autofocus:this.autofocus,onFocus:this.handlePatternInputFocus,onBlur:this.handlePatternInputBlur,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),t?p("div",{class:`${a}-base-selection-label__render-label ${a}-base-selection-overlay`,key:"input"},p("div",{class:`${a}-base-selection-overlay__wrapper`},u?u({option:this.selectedOption,handleClose:()=>{}}):c?c(this.selectedOption,!0):E(this.label,this.selectedOption,!0))):null,n?p("div",{class:`${a}-base-selection-placeholder ${a}-base-selection-overlay`,key:"placeholder"},p("div",{class:`${a}-base-selection-overlay__wrapper`},this.filterablePlaceholder)):null,m)}else g=p("div",{ref:"singleElRef",class:`${a}-base-selection-label`,tabindex:this.disabled?void 0:0},void 0!==this.label?p("div",{class:`${a}-base-selection-input`,title:Te(this.label),key:"input"},p("div",{class:`${a}-base-selection-input__content`},u?u({option:this.selectedOption,handleClose:()=>{}}):c?c(this.selectedOption,!0):E(this.label,this.selectedOption,!0))):p("div",{class:`${a}-base-selection-placeholder ${a}-base-selection-overlay`,key:"placeholder"},p("div",{class:`${a}-base-selection-placeholder__inner`},this.placeholder)),m);return p("div",{ref:"selfRef",class:[`${a}-base-selection`,this.rtlEnabled&&`${a}-base-selection--rtl`,this.themeClass,e&&`${a}-base-selection--${e}-status`,{[`${a}-base-selection--active`]:this.active,[`${a}-base-selection--selected`]:this.selected||this.active&&this.pattern,[`${a}-base-selection--disabled`]:this.disabled,[`${a}-base-selection--multiple`]:this.multiple,[`${a}-base-selection--focus`]:this.focused}],style:this.cssVars,onClick:this.onClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onKeydown:this.onKeydown,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onMousedown:this.handleMouseDown},g,i?p("div",{class:`${a}-base-selection__border`}):null,i?p("div",{class:`${a}-base-selection__state-border`}):null)}});function cn(e){return"group"===e.type}function hn(e){return"ignored"===e.type}function pn(e,n){try{return!!(1+n.toString().toLowerCase().indexOf(e.trim().toLowerCase()))}catch(t){return!1}}function vn(e,n){return{getIsGroup:cn,getIgnored:hn,getKey:n=>cn(n)?n.name||n.key||"key-required":n[e],getChildren:e=>e[n]}}const fn=O([z("select","\n z-index: auto;\n outline: none;\n width: 100%;\n position: relative;\n "),z("select-menu","\n margin: 4px 0;\n box-shadow: var(--n-menu-box-shadow);\n ",[V({originalTransition:"background-color .3s var(--n-bezier), box-shadow .3s var(--n-bezier)"})])]),mn=l({name:"Select",props:Object.assign(Object.assign({},B.props),{to:pe.propTo,bordered:{type:Boolean,default:void 0},clearable:Boolean,clearFilterAfterSelect:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},defaultValue:{type:[String,Number,Array],default:null},keyboard:{type:Boolean,default:!0},value:[String,Number,Array],placeholder:String,menuProps:Object,multiple:Boolean,size:String,menuSize:{type:String},filterable:Boolean,disabled:{type:Boolean,default:void 0},remote:Boolean,loading:Boolean,filter:Function,placement:{type:String,default:"bottom-start"},widthMode:{type:String,default:"trigger"},tag:Boolean,onCreate:Function,fallbackOption:{type:[Function,Boolean],default:void 0},show:{type:Boolean,default:void 0},showArrow:{type:Boolean,default:!0},maxTagCount:[Number,String],ellipsisTagPopoverProps:Object,consistentMenuWidth:{type:Boolean,default:!0},virtualScroll:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},childrenField:{type:String,default:"children"},renderLabel:Function,renderOption:Function,renderTag:Function,"onUpdate:value":[Function,Array],inputProps:Object,nodeProps:Function,ignoreComposition:{type:Boolean,default:!0},showOnFocus:Boolean,onUpdateValue:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onFocus:[Function,Array],onScroll:[Function,Array],onSearch:[Function,Array],onUpdateShow:[Function,Array],"onUpdate:show":[Function,Array],displayDirective:{type:String,default:"show"},resetMenuOnOptionsChange:{type:Boolean,default:!0},status:String,showCheckmark:{type:Boolean,default:!0},onChange:[Function,Array],items:Array}),setup(t){const{mergedClsPrefixRef:o,mergedBorderedRef:l,namespaceRef:r,inlineThemeDisabled:i}=I(t),a=B("Select","-select",fn,we,t,o),s=e(t.defaultValue),d=c(t,"value"),u=de(d,s),h=e(!1),p=e(""),v=ue(t,["items","options"]),f=e([]),m=e([]),g=n((()=>m.value.concat(f.value).concat(v.value))),b=n((()=>{const{filter:e}=t;if(e)return e;const{labelField:n,valueField:o}=t;return(e,t)=>{if(!t)return!1;const l=t[n];if("string"==typeof l)return pn(e,l);const r=t[o];return"string"==typeof r?pn(e,r):"number"==typeof r&&pn(e,String(r))}})),y=n((()=>{if(t.remote)return v.value;{const{value:e}=g,{value:n}=p;return n.length&&t.filterable?function(e,n,t,o){return n?function e(l){if(!Array.isArray(l))return[];const r=[];for(const i of l)if(cn(i)){const n=e(i[o]);n.length&&r.push(Object.assign({},i,{[o]:n}))}else{if(hn(i))continue;n(t,i)&&r.push(i)}return r}(e):e}(e,b.value,n,t.childrenField):e}})),w=n((()=>{const{valueField:e,childrenField:n}=t,o=vn(e,n);return xe(y.value,o)})),x=n((()=>function(e,n,t){const o=new Map;return e.forEach((e=>{cn(e)?e[t].forEach((e=>{o.set(e[n],e)})):o.set(e[n],e)})),o}(g.value,t.valueField,t.childrenField))),C=e(!1),S=de(c(t,"show"),C),F=e(null),M=e(null),T=e(null),{localeRef:P}=Ue("Select"),R=n((()=>{var e;return null!==(e=t.placeholder)&&void 0!==e?e:P.value.placeholder})),z=[],k=e(new Map),O=n((()=>{const{fallbackOption:e}=t;if(void 0===e){const{labelField:e,valueField:n}=t;return t=>({[e]:String(t),[n]:t})}return!1!==e&&(n=>Object.assign(e(n),{value:n}))}));function L(e){const n=t.remote,{value:o}=k,{value:l}=x,{value:r}=O,i=[];return e.forEach((e=>{if(l.has(e))i.push(l.get(e));else if(n&&o.has(e))i.push(o.get(e));else if(r){const n=r(e);n&&i.push(n)}})),i}const A=n((()=>{if(t.multiple){const{value:e}=u;return Array.isArray(e)?L(e):[]}return null})),D=n((()=>{const{value:e}=u;return t.multiple||Array.isArray(e)||null===e?null:L([e])[0]||null})),W=ce(t),{mergedSizeRef:E,mergedDisabledRef:N,mergedStatusRef:_}=W;function j(e,n){const{onChange:o,"onUpdate:value":l,onUpdateValue:r}=t,{nTriggerFormChange:i,nTriggerFormInput:a}=W;o&&Fe(o,e,n),r&&Fe(r,e,n),l&&Fe(l,e,n),s.value=e,i(),a()}function V(e){const{onBlur:n}=t,{nTriggerFormBlur:o}=W;n&&Fe(n,e),o()}function H(){var e;const{remote:n,multiple:o}=t;if(n){const{value:n}=k;if(o){const{valueField:o}=t;null===(e=A.value)||void 0===e||e.forEach((e=>{n.set(e[o],e)}))}else{const e=D.value;e&&n.set(e[t.valueField],e)}}}function q(e){const{onUpdateShow:n,"onUpdate:show":o}=t;n&&Fe(n,e),o&&Fe(o,e),C.value=e}function U(){N.value||(q(!0),C.value=!0,t.filterable&&oe())}function Y(){q(!1)}function X(){p.value="",m.value=z}const Z=e(!1);function J(e){G(e.rawNode)}function G(e){if(N.value)return;const{tag:n,remote:o,clearFilterAfterSelect:l,valueField:r}=t;if(n&&!o){const{value:e}=m,n=e[0]||null;if(n){const e=f.value;e.length?e.push(n):f.value=[n],m.value=z}}if(o&&k.value.set(e[r],e),t.multiple){const i=function(e){if(!Array.isArray(e))return[];if(O.value)return Array.from(e);{const{remote:n}=t,{value:o}=x;if(n){const{value:n}=k;return e.filter((e=>o.has(e)||n.has(e)))}return e.filter((e=>o.has(e)))}}(u.value),a=i.findIndex((n=>n===e[r]));if(~a){if(i.splice(a,1),n&&!o){const n=ee(e[r]);~n&&(f.value.splice(n,1),l&&(p.value=""))}}else i.push(e[r]),l&&(p.value="");j(i,L(i))}else{if(n&&!o){const n=ee(e[r]);f.value=~n?[f.value[n]]:z}te(),Y(),j(e[r],e)}}function ee(e){return f.value.findIndex((n=>n[t.valueField]===e))}function ne(e){var n,o,l,r,i;if(t.keyboard)switch(e.key){case" ":if(t.filterable)break;e.preventDefault();case"Enter":if(!(null===(n=F.value)||void 0===n?void 0:n.isComposing))if(S.value){const e=null===(o=T.value)||void 0===o?void 0:o.getPendingTmNode();e?J(e):t.filterable||(Y(),te())}else if(U(),t.tag&&Z.value){const e=m.value[0];if(e){const n=e[t.valueField],{value:o}=u;t.multiple&&Array.isArray(o)&&o.includes(n)||G(e)}}e.preventDefault();break;case"ArrowUp":if(e.preventDefault(),t.loading)return;S.value&&(null===(l=T.value)||void 0===l||l.prev());break;case"ArrowDown":if(e.preventDefault(),t.loading)return;S.value?null===(r=T.value)||void 0===r||r.next():U();break;case"Escape":S.value&&(Se(e),Y()),null===(i=F.value)||void 0===i||i.focus()}else e.preventDefault()}function te(){var e;null===(e=F.value)||void 0===e||e.focus()}function oe(){var e;null===(e=F.value)||void 0===e||e.focusInput()}H(),K(c(t,"options"),H);const le={focus:()=>{var e;null===(e=F.value)||void 0===e||e.focus()},focusInput:()=>{var e;null===(e=F.value)||void 0===e||e.focusInput()},blur:()=>{var e;null===(e=F.value)||void 0===e||e.blur()},blurInput:()=>{var e;null===(e=F.value)||void 0===e||e.blurInput()}},re=n((()=>{const{self:{menuBoxShadow:e}}=a.value;return{"--n-menu-box-shadow":e}})),ie=i?$("select",void 0,re,t):void 0;return Object.assign(Object.assign({},le),{mergedStatus:_,mergedClsPrefix:o,mergedBordered:l,namespace:r,treeMate:w,isMounted:he(),triggerRef:F,menuRef:T,pattern:p,uncontrolledShow:C,mergedShow:S,adjustedTo:pe(t),uncontrolledValue:s,mergedValue:u,followerRef:M,localizedPlaceholder:R,selectedOption:D,selectedOptions:A,mergedSize:E,mergedDisabled:N,focused:h,activeWithoutMenuOpen:Z,inlineThemeDisabled:i,onTriggerInputFocus:function(){t.filterable&&(Z.value=!0)},onTriggerInputBlur:function(){t.filterable&&(Z.value=!1,S.value||X())},handleTriggerOrMenuResize:function(){var e;S.value&&(null===(e=M.value)||void 0===e||e.syncPosition())},handleMenuFocus:function(){h.value=!0},handleMenuBlur:function(e){var n;(null===(n=F.value)||void 0===n?void 0:n.$el.contains(e.relatedTarget))||(h.value=!1,V(e),Y())},handleMenuTabOut:function(){var e;null===(e=F.value)||void 0===e||e.focus(),Y()},handleTriggerClick:function(){N.value||(S.value?t.filterable?oe():Y():U())},handleToggle:J,handleDeleteOption:G,handlePatternInput:function(e){S.value||U();const{value:n}=e.target;p.value=n;const{tag:o,remote:l}=t;if(function(e){const{onSearch:n}=t;n&&Fe(n,e)}(n),o&&!l){if(!n)return void(m.value=z);const{onCreate:e}=t,o=e?e(n):{[t.labelField]:n,[t.valueField]:n},{valueField:l,labelField:r}=t;v.value.some((e=>e[l]===o[l]||e[r]===o[r]))||f.value.some((e=>e[l]===o[l]||e[r]===o[r]))?m.value=z:m.value=[o]}},handleClear:function(e){e.stopPropagation();const{multiple:n}=t;!n&&t.filterable&&Y(),function(){const{onClear:e}=t;e&&Fe(e)}(),n?j([],[]):j(null,null)},handleTriggerBlur:function(e){var n,t;(null===(t=null===(n=T.value)||void 0===n?void 0:n.selfRef)||void 0===t?void 0:t.contains(e.relatedTarget))||(h.value=!1,V(e),Y())},handleTriggerFocus:function(e){!function(e){const{onFocus:n,showOnFocus:o}=t,{nTriggerFormFocus:l}=W;n&&Fe(n,e),l(),o&&U()}(e),h.value=!0},handleKeydown:ne,handleMenuAfterLeave:X,handleMenuClickOutside:function(e){var n;S.value&&((null===(n=F.value)||void 0===n?void 0:n.$el.contains(Ce(e)))||Y())},handleMenuScroll:function(e){!function(e){const{onScroll:n}=t;n&&Fe(n,e)}(e)},handleMenuKeydown:ne,handleMenuMousedown:function(e){Q(e,"action")||Q(e,"empty")||Q(e,"header")||e.preventDefault()},mergedTheme:a,cssVars:i?void 0:re,themeClass:null==ie?void 0:ie.themeClass,onRender:null==ie?void 0:ie.onRender})},render(){return p("div",{class:`${this.mergedClsPrefix}-select`},p(ve,null,{default:()=>[p(fe,null,{default:()=>p(un,{ref:"triggerRef",inlineThemeDisabled:this.inlineThemeDisabled,status:this.mergedStatus,inputProps:this.inputProps,clsPrefix:this.mergedClsPrefix,showArrow:this.showArrow,maxTagCount:this.maxTagCount,ellipsisTagPopoverProps:this.ellipsisTagPopoverProps,bordered:this.mergedBordered,active:this.activeWithoutMenuOpen||this.mergedShow,pattern:this.pattern,placeholder:this.localizedPlaceholder,selectedOption:this.selectedOption,selectedOptions:this.selectedOptions,multiple:this.multiple,renderTag:this.renderTag,renderLabel:this.renderLabel,filterable:this.filterable,clearable:this.clearable,disabled:this.mergedDisabled,size:this.mergedSize,theme:this.mergedTheme.peers.InternalSelection,labelField:this.labelField,valueField:this.valueField,themeOverrides:this.mergedTheme.peerOverrides.InternalSelection,loading:this.loading,focused:this.focused,onClick:this.handleTriggerClick,onDeleteOption:this.handleDeleteOption,onPatternInput:this.handlePatternInput,onClear:this.handleClear,onBlur:this.handleTriggerBlur,onFocus:this.handleTriggerFocus,onKeydown:this.handleKeydown,onPatternBlur:this.onTriggerInputBlur,onPatternFocus:this.onTriggerInputFocus,onResize:this.handleTriggerOrMenuResize,ignoreComposition:this.ignoreComposition},{arrow:()=>{var e,n;return[null===(n=(e=this.$slots).arrow)||void 0===n?void 0:n.call(e)]}})}),p(me,{ref:"followerRef",show:this.mergedShow,to:this.adjustedTo,teleportDisabled:this.adjustedTo===pe.tdkey,containerClass:this.namespace,width:this.consistentMenuWidth?"target":void 0,minWidth:"target",placement:this.placement},{default:()=>p(N,{name:"fade-in-scale-up-transition",appear:this.isMounted,onAfterLeave:this.handleMenuAfterLeave},{default:()=>{var e,n,t;return this.mergedShow||"show"===this.displayDirective?(null===(e=this.onRender)||void 0===e||e.call(this),ge(p(ln,Object.assign({},this.menuProps,{ref:"menuRef",onResize:this.handleTriggerOrMenuResize,inlineThemeDisabled:this.inlineThemeDisabled,virtualScroll:this.consistentMenuWidth&&this.virtualScroll,class:[`${this.mergedClsPrefix}-select-menu`,this.themeClass,null===(n=this.menuProps)||void 0===n?void 0:n.class],clsPrefix:this.mergedClsPrefix,focusable:!0,labelField:this.labelField,valueField:this.valueField,autoPending:!0,nodeProps:this.nodeProps,theme:this.mergedTheme.peers.InternalSelectMenu,themeOverrides:this.mergedTheme.peerOverrides.InternalSelectMenu,treeMate:this.treeMate,multiple:this.multiple,size:this.menuSize,renderOption:this.renderOption,renderLabel:this.renderLabel,value:this.mergedValue,style:[null===(t=this.menuProps)||void 0===t?void 0:t.style,this.cssVars],onToggle:this.handleToggle,onScroll:this.handleMenuScroll,onFocus:this.handleMenuFocus,onBlur:this.handleMenuBlur,onKeydown:this.handleMenuKeydown,onTabOut:this.handleMenuTabOut,onMousedown:this.handleMenuMousedown,show:this.mergedShow,showCheckmark:this.showCheckmark,resetMenuOnOptionsChange:this.resetMenuOnOptionsChange}),{empty:()=>{var e,n;return[null===(n=(e=this.$slots).empty)||void 0===n?void 0:n.call(e)]},header:()=>{var e,n;return[null===(n=(e=this.$slots).header)||void 0===n?void 0:n.call(e)]},action:()=>{var e,n;return[null===(n=(e=this.$slots).action)||void 0===n?void 0:n.call(e)]}}),"show"===this.displayDirective?[[be,this.mergedShow],[ye,this.handleMenuClickOutside,void 0,{capture:!0}]]:[[ye,this.handleMenuClickOutside,void 0,{capture:!0}]])):null}})})]}))}});export{an as N,mn as _,sn as a,ln as b,vn as c,Pe as m,Ue as u};
